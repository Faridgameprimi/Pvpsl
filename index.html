<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PvP Legends — Link Hub</title>
  <meta name="description" content="PvP Legends link hub — launch, whatsapp channels & groups" />
  <style>
    :root{
      --accent: #f7c948;
      --glass: rgba(255,255,255,0.06);
      --glass-border: rgba(255,255,255,0.18);
      --text: #ffffff;
      --muted: rgba(255,255,255,0.8);
      --radius: 12px;
      --button-h: 78px;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    html,body{height:100%;margin:0}
    body{
      background-color:#0b0b12;
      background-size:cover;
      background-position:center center;
      color:var(--text);
      display:flex;align-items:center;justify-content:center;padding:28px;
    }
    .wrap{width:100%;max-width:520px}.card{
      backdrop-filter: blur(6px) saturate(120%);
      background: linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.35));
      border:1px solid var(--glass-border);
      padding:26px;border-radius:22px;box-shadow:0 10px 30px rgba(0,0,0,0.6);
    }

    .logo-wrap{
      display:flex;
      align-items:center;
      flex-direction:column;
      text-align:center;
      margin-bottom:14px;
    }
    .logo{ 
      width:180px;
      height:180px;
      border-radius:0; /* kotak */
      overflow:hidden; 
      box-shadow:0 6px 18px rgba(0,0,0,0.5);
      border:3px solid rgba(255,255,255,0.06);
      display:flex;align-items:center;justify-content:center;
    }
    .logo img{width:100%;height:100%;object-fit:contain;}

    /* ONLINE PLAYER BOX */
    .status-box{
      margin:18px 0;
      padding:14px;
      border-radius:14px;
      background:rgba(255,255,255,0.05);
      border:1px solid rgba(255,255,255,0.15);
      text-align:center;
    }
    .status-title{font-size:14px;color:var(--muted);margin-bottom:4px}
    .status-count{font-size:22px;font-weight:700}

    /* BUTTON LIST */
    .buttons{display:flex;flex-direction:column;gap:14px;margin-top:20px}
    .btn{
      display:flex;align-items:center;gap:14px;padding:0 16px;height:var(--button-h);border-radius:16px;border:2px solid rgba(255,255,255,0.12);background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));cursor:pointer;text-decoration:none;color:var(--text);font-weight:600;
    }
    .btn .left{
      width:56px;height:56px;border-radius:14px;background:var(--glass);display:flex;align-items:center;justify-content:center;overflow:hidden;
    }
    .btn .left img{width:100%;height:100%;object-fit:cover}
    .btn .title{flex:1;text-align:left;font-size:15px}
    .btn .small{font-size:12px;color:var(--muted)}

    .btn:hover{transform:translateY(-2px)}

    .footer{margin-top:16px;text-align:center;color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="mainCard">
      <div class="logo-wrap">
        <div class="logo" id="logoEl">
          <img src="assets/logo.png" alt="PvP Legends Logo" onerror="this.src=defaultLogoDataUrl" />
        </div>
      </div>

      <!-- PLAYER ONLINE STATUS -->
      <div class="status-box">
        <div class="status-title">Players Online</div>
        <div class="status-count" id="playersOnline">Loading...</div>
      </div>

      <!-- BUTTONS -->
      <div class="buttons">
        <a class="btn" href="https://pvp-legends-launch.vercel.app/" target="_blank" rel="noopener">
          <div class="left"><img src="assets/btn-launch.png" alt="icon"></div>
          <div class="title">Launch To Minecraft</div>
          <div class="small">Automatic masuk minecraft</div>
        </a>

        <a class="btn" href="https://whatsapp.com/channel/0029VasHfEr3LdQV5WDTJQ0s" target="_blank" rel="noopener">
          <div class="left"><img src="assets/btn-info.png" alt="icon"></div>
          <div class="title">Whatsapp Info Channel</div>
          <div class="small">Info update</div>
        </a>

        <a class="btn" href="https://www.whatsapp.com/channel/0029VbBdVD67DAX2DLTxWq1s" target="_blank" rel="noopener">
          <div class="left"><img src="assets/btn-feedback.png" alt="icon"></div>
          <div class="title">Whatsapp Feedback</div>
          <div class="small">Feedback Pembeli</div>
        </a>

        <a class="btn" href="https://chat.whatsapp.com/COCcYZg3WsKJeOioFHQO9r?mode=hqrt2" target="_blank" rel="noopener">
          <div class="left"><img src="assets/btn-chat.png" alt="icon"></div>
          <div class="title">Whatsapp Chat Group</div>
          <div class="small">Chat Public pvp legends</div>
        </a>

        <a class="btn" href="https://chat.whatsapp.com/IsAFXEIZ1fM5t7ml3Ith9c?mode=hqrt2" target="_blank" rel="noopener">
          <div class="left"><img src="assets/btn-store.png" alt="icon"></div>
          <div class="title">Whatsapp Store Group</div>
          <div class="small">Store Rank & Coins</div>
          
        <a class="btn" href=https://minecraftservers.org/server/684199 " target="_blank" rel="noopener">
          <div class="left"><img src="assets/btn-vote.png" alt="icon"></div>
          <div class="title">Vote Server Pvp legends</div>
          <div class="small">Vote Server</div>
          
        <a class="btn" href="https://sociabuzz.com/supportpvpsl/tribe" target="_blank" rel="noopener">
          <div class="left"><img src="assets/btn-vote.png" alt="icon"></div>
          <div class="title">Support</div>
          <div class="small">Support Pvp legends</div>
        </a>
      </div>

      <div class="footer">Selamat datang ke website pvplegends</div>
    </div>
  </div>

<script>
// CONFIG
const SERVER_IP = "pvpsl.xyz";
const SERVER_PORT = 19165;
const QUERY_URL = `https://api.mcsrvstat.us/bedrock/2/${SERVER_IP}:${SERVER_PORT}`;

const GITHUB_RAW_BASE = 'https://raw.githubusercontent.com/Faridgameprimi/Pvpsl/main';
const WALLPAPER_LIST_PATH = '/wallpapers/list.txt';
const WALLPAPER_FOLDER = '/wallpapers';

const defaultLogoDataUrl = 'data:image/svg+xml;utf8,' + encodeURIComponent(`
<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><rect width="100%" height="100%" rx="8" fill="#0f172a"/><text x="50%" y="54%" font-size="7" fill="#f7c948" text-anchor="middle" font-family="Arial">PvP</text></svg>`);

// Fetch online player count
async function fetchPlayers(){
  try{
    const r = await fetch(QUERY_URL);
    const data = await r.json();
    if(data && data.online){
      const online = data.players?.online ?? 0;
      const max = data.players?.max ?? 0;
      document.getElementById('playersOnline').textContent = online + " / " + max;
    } else {
      document.getElementById('playersOnline').textContent = "Offline";
    }
  } catch(e){ 
    document.getElementById('playersOnline').textContent = "Offline"; 
  }
}
fetchPlayers();
setInterval(fetchPlayers, 5000);

// Load wallpapers
async function applyWallpaperFromGithub(){
  try{
    const listUrl = GITHUB_RAW_BASE + WALLPAPER_LIST_PATH;
    const resp = await fetch(listUrl);
    if(!resp.ok) throw 0;
    const text = await resp.text();
    const names = text.split("\n").map(a=>a.trim()).filter(Boolean);
    if(names.length === 0) return;
    const chosen = names[Math.floor(Math.random()*names.length)];
    const imgUrl = GITHUB_RAW_BASE + WALLPAPER_FOLDER + '/' + chosen;
    const img = new Image();
    img.onload = ()=>{
      document.body.style.backgroundImage = `url('${imgUrl}')`;
    };
    img.src = imgUrl;
  }catch{}
}
applyWallpaperFromGithub();
</script>
</body>
</html>